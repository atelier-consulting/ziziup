<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta http-equiv="cleartype" content="on">
  <meta name="msapplication-tap-highlight" content="no">

  <title>ZIZIUP</title>

  <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i,900" rel="stylesheet">
  <link rel="stylesheet" href="../%CSSPATH%">
</head>
<body>
  <style>
    [m-mask] {
      display: none;
    }
  </style>

  <div id="checkout" class="cho" m-mask>
    <div id="checkout-shipping" class="cho__module">
      <div class="cho__summary">
        <div class="cho__title">Shipping</div>
        <div class="cho__value" m-if="{{showShippingValue}}">
          <div class="cho__icon" m-if={{showShippingValue}}>
            <i class="icon icon--cho icon--cho-{{shipping.currentValue.type}}"></i>
          </div>
          <cho-info
            m-literal:title="{{shipping.currentValue.fullName}} === undefined ? '' : {{shipping.currentValue.fullName}}"
            line1={{shipping.currentValue.line1}}
            line2={{shipping.currentValue.line2}}
          ></cho-info>
        </div>
        <div class="cho__toggle cho__action"
          m-if="{{showShippingAdd}}"
          m-on:click="navigate('shipping', 'pickup')"
        >
          Add shipping address
        </div>
        <div class="cho__toggle cho__action"
          m-if="{{showShippingChange}}"
          m-on:click="navigate('shipping', 'open')"
        >
          Change
        </div>
        <div class="cho__toggle"
          m-if="{{showShippingClose}}"
          m-on:click="navigate('shipping', 'closed')"
        >
          Close
        </div>
      </div>
      <div class="cho__content" m-if="{{shipping.path}} !== 'closed'">

        <div class="cho__screen" m-if="{{shipping.path}} === 'pickup'">
          <div class="cho__header">{{shipping.action}} shipping address</div>
          <div class="tabbar">
            <div class="tabbar__tab tabbar__tab--active">Pick up point</div>
            <div class="tabbar__tab" m-on:click="navigate('shipping', 'address')">
              Address
            </div>
          </div>
          <div class="cho__bar">
            <div class="cho__status">
              <span
                class="hide__until--phablet"
                m-if="{{shipping.currentLocation}}"
              >Available pick up points near </span>
              <span
                class="hide__from--phablet"
                m-if="{{shipping.currentLocation}}"
              >Near </span>
              <strong>{{yieldShippingLocation}}</strong>
            </div>
            <div
              class="cho__action"
              m-on:click="navigate('shipping', 'location')"
            >
              Change<span class="hide__until--phablet"> location</span>
            </div>
          </div>
          <div class="cho__list" m-if="{{shippingFilteredPoints}}">
            <div
              class="cho__choice"
              m-for="point in {{shippingFilteredPoints}}"
              m-on:click="selectShippingPoint({{point.id}})"
            >
              <div class="cho__icon">
                <i class="icon icon--cho icon--cho-pickup"></i>
              </div>
              <cho-info
                line1="{{point.line1}}"
                line2="{{point.line2}}"
              ></cho-info>
              <div
                class="cho__radio"
              >
                <i class="icon icon--small icon--radio-on"
                  m-if="{{point.id}} === {{shipping.currentPoint.id}}"
                ></i>
                <i class="icon icon--small icon--radio-off"
                  m-if="{{point.id}} !== {{shipping.currentPoint.id}}"
                ></i>
              </div>
            </div>
          </div>
          <div class="cho__nothing" m-if="!{{shippingFilteredPoints}}">
            No points found near selected location.
          </div>
          <div class="cho__footer">
            <div
              class="cho__button cho__button--cancel"
              m-on:click="unselectShippingPoint"
            >Cancel</div>
            <div
              class="cho__button cho__button--submit"
              m-if="{{shipping.currentPoint.id}}"
              m-on:click="submitShippingPoint({{shipping.currentPoint.id}})"
            >Select Address</div>
            <div
              class="cho__button cho__button--submit cho__button--disabled"
              m-if="!{{shipping.currentPoint.id}}"
            >Select Address</div>
          </div>
        </div>

        <div class="cho__screen" m-if="{{shipping.path}} === 'address'">
          <div class="cho__header">{{shipping.action}} shipping address</div>
          <div class="tabbar">
            <div class="tabbar__tab" m-on:click="navigate('shipping', 'pickup')">
              Pick up point
            </div>
            <div class="tabbar__tab tabbar__tab--active">Address</div>
          </div>

          <!-- tyt -->
          <div class="cho__pad">

            <div class="form__row">
              <div class="form__cell">
                <label
                  class="form__label"
                  for="cho-shipping-address-country"
                >Country</label>
                <select
                  name="cho-shipping-address-country"
                  id="cho-shipping-address-country"
                  class="form__select"
                  m-model="shipping.editableAddress.country"
                >
                  <option value="">Select country</option>
                  <option
                    m-for="country in {{allCountries}}"
                    value="{{country}}"
                  >{{country}}</option>
                </select>
              </div>
              <div class="form__cell">
                <label
                  for="cho-shipping-address-city"
                  class="form__label"
                >City</label>
                <input
                  type="text"
                  class="form__input"
                  id="cho-shipping-address-city"
                  m-model="shipping.editableAddress.city"
                />
              </div>
            </div>

            <div class="form__row">
              <div class="form__cell">
                <label
                  for="cho-shipping-address-fullname"
                  class="form__label"
                >Full Name</label>
                <input
                  id="cho-shipping-address-fullname"
                  class="form__input"
                  type="text"
                  m-model="shipping.editableAddress.fullName"
                />
              </div>
            </div>

            <div class="form__row">
              <div class="form__cell">
                <label
                  for="cho-shipping-address-line1"
                  class="form__label"
                >Address</label>
                <input
                  type="text"
                  class="form__input"
                  id="cho-shipping-address-line1"
                  m-model="shipping.editableAddress.line1"
                />
              </div>
            </div>

            <div class="form__row">
              <div class="form__cell">
                <input
                  type="text"
                  class="form__input"
                  id="cho-shipping-address-line2"
                  m-model="shipping.editableAddress.line2"
                />
              </div>
            </div>

            <div class="form__row">
              <div class="form__cell form__cell--phone">
                <label
                  for="landing-input-phone"
                  class="form__label"
                >Phone</label>
                <select
                  id="landing-select-code"
                  class="form__select"
                  m-model="shipping.editableAddress.code"
                >
                  <option value=""></option>
                  <option
                    m-for="code in {{allCodes}}"
                    value="{{code}}"
                  >{{code}}</option>
                </select>
                <input
                  type="text"
                  id="landing-input-phone"
                  class="form__input"
                  m-model="shipping.editableAddress.phone"
                />
              </div>
              <div class="form__cell">
                <div class="columns columns__from--phablet">
                  <div class="form__cell form__cell--flat">
                    <label
                      for="cho-shipping-address-zip"
                      class="form__label"
                    >ZIP</label>
                    <input
                      type="text"
                      class="form__input"
                      id="cho-shipping-address-zip"
                      m-model="shipping.editableAddress.zip"
                    />
                  </div>
                  <div class="form__cell form__cell--flat">
                    <label
                      for="cho-shipping-address-primary"
                      class="form__label"
                      >Make Primary</label>
                      <input
                        class="form__switch"
                        type="checkbox"
                        id="cho-shipping-address-primary"
                        m-model="shipping.editableAddress.isPrimary"
                      />
                      <label for="cho-shipping-address-primary"></label>
                  </div>
                </div>
              </div>
            </div>

          </div> <!-- pad -->

          <div class="cho__footer">
            <div
              class="cho__button cho__button--cancel"
              m-on:click="cancelAddingShippingAddress"
            >Cancel</div>
            <div
              class="cho__button cho__button--submit"
              m-if="{{showShippingAddressSubmit}}"
              m-on:click="submitShippingAddress"
            >Save Address</div>
            <div
              m-if="{{showShippingAddressSubmit}} === false"
              class="cho__button cho__button--submit cho__button--disabled"
            >Save Address</div>
          </div>
        </div>

        <div class="cho__screen" m-if="{{shipping.path}} === 'open'">
          <div class="cho__list" m-if="{{shipping.values.length}}">
            <div
              class="cho__choice"
              m-for="value in {{shipping.values}}"
              m-on:click="selectShippingValue({{value.id}})"
            >
              <div
                class="cho__icon"
              >
                <i class="icon icon--cho icon--cho-{{value.type}}"></i>
              </div>
              <cho-info
                m-literal:title="{{value.fullName}} === undefined ? '' : {{value.fullName}}"
                line1="{{value.line1}}"
                line2="{{value.line2}}"
              ></cho-info>
              <div
                class="cho__radio"
              >
                <i class="icon icon--small icon--radio-on"
                  m-if="{{value.id}} === {{shipping.currentValue.id}}"
                ></i>
                <i class="icon icon--small icon--radio-off"
                  m-if="{{value.id}} !== {{shipping.currentValue.id}}"
                ></i>
              </div>
            </div>
          </div>
          <div class="cho__footer">
            <div
              class="cho__button cho__button--cancel"
              m-if="{{shipping.currentValue.type}} === 'pickup'"
              m-on:click="removeShippingValue"
            >
              Remove Selected
            </div>
            <div
              class="cho__button cho__button--submit"
              m-on:click="navigate('shipping', 'pickup')"
            >Add Another Address</div>
          </div>
        </div>

        <div class="cho__screen" m-if="{{shipping.path}} === 'location'">
          <div class="cho__header">Select your location</div>
          <div class="cho__pad">
            <div class="form__row">
              <div class="form__cell">
                <label for="cho-shipping-location-country" class="form__label">Country</label>
                <select
                  name="cho-shipping-location-country"
                  id="cho-shipping-location-country"
                  class="form__select"
                  m-model="shipping.editableLocation.country"
                >
                  <option value="">Select country</option>
                  <option
                    m-for="country in {{shippingCountries}}"
                    value="{{country}}"
                  >{{country}}</option>
                </select>
              </div>
              <div class="form__cell">
                <label for="cho-shipping-location-city" class="form__label">City</label>
                <select
                  class="form__select"
                  disabled="disabled"
                  m-if="{{shipping.editableLocation.country}} === ''"
                >
                  <option value="-1">Please select country first</option>
                </select>
                <select
                  name="cho-shipping-location-city"
                  id="cho-shipping-location-city"
                  class="form__select"
                  m-if="{{shipping.editableLocation.country}} !== ''"
                  m-model="shipping.editableLocation.city"
                >
                  <option value="">Select city</option>
                  <option
                    m-for="city in {{shippingCities}}"
                    value="{{city}}"
                  >{{city}}</option>
                </select>
              </div>
            </div>
          </div>

          <div class="cho__footer">
            <div
              class="cho__button cho__button--cancel"
              m-on:click="cancelChangingShippingLocation"
            >Cancel</div>
            <div
              class="cho__button cho__button--submit cho__button--disabled"
              m-if="{{showShippingLocationSubmit}} === false"
            >Find Pick Up Addresses</div>
            <div
              class="cho__button cho__button--submit"
              m-if="{{showShippingLocationSubmit}}"
              m-on:click="submitShippingLocation"
            >Find Pick Up Addresses</div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script type="text/template" id="tpl-cho-info">
    <div class="cho__info">
      <div m-if="{{title}}" class="info__title">{{title}}</div>
      <div m-if="{{line1}}" class="info__line">{{line1}}</div>
      <div m-if="{{line2}}" class="info__line">{{line2}}</div>
      <div m-if="{{descr}}" class="info__descr">{{descr}}</div>
      <div m-if="{{price}}" class="info__price">{{price}}</div>
    </div>
  </script>

  <script src="https://unpkg.com/moonjs@0.7.1"></script>
  <script src="../js/cho.moon.js"></script>
</body>
</html>
